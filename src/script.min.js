function getFileSize(e,t){var i="",r=new XMLHttpRequest;r.open("HEAD",t,!0),r.onreadystatechange=function(){this.readyState==this.DONE&&200===this.status&&(i=this.getResponseHeader("content-length")/1024,$(e).text($(e).text()+" ("+sizeUnits(i)+")"))},r.send()}!function(e){e.fn.visible=function(t){var i=e(this),r=e(window),a=r.scrollTop(),o=a+r.height(),n=i.offset().top,s=n+i.height(),l=t===!0?s:n,d=t===!0?n:s;return o>=d&&l>=a}}(jQuery);var $footer=$("footer"),$footerBanner=$("#footer_banner"),$galleryItems=$(".galleryItem"),allMods=$(".visModule");allMods.each(function(e,t){var t=$(t);t.visible(!0)&&t.addClass("already-visible")});var footerRelative=function(){$footer.removeAttr("style"),$footer.css({visibility:"visible",height:"auto"}),$footerBanner.removeAttr("style"),$footerBanner.css({overflow:"visible",position:"relative",bottom:"auto",height:"auto"}),$footerBanner.children().css({position:"relative",top:"auto"})},footerFixed=function(e){0>e&&(e=0);var t=document.body.offsetHeight-window.innerHeight;if(220>t-e){$footer.removeAttr("style"),$footerBanner.removeAttr("style"),$footer.css("visibility","visible");var i=215-(t-e);0>i&&(i=0),$footerBanner.css("height",i+"px"),$footerBanner.children().css("top",e-t+"px")}else $("footer").css("visibility","hidden")};window.onscroll=function(e){$(window).width()<=600?footerRelative():footerFixed(window.scrollY),allMods.each(function(e,t){var t=$(t);setTimeout(function(){t.visible(!0)&&t.addClass("come-in")},75*e)})},$galleryItems.on({mouseenter:function(){$(this).addClass("galItemHover")},mouseleave:function(){$(this).removeClass("galItemHover")}}),$(".skillBar").on({mouseenter:function(){$(".galleryItem[langtag="+$(this).attr("langtag")+"]").addClass("galItemHover")},mouseleave:function(){$(".galleryItem[langtag="+$(this).attr("langtag")+"]").removeClass("galItemHover")}}),$(document).ready(function(){$("html, body").hide(),$(".flexnav").flexNav(),window.location.hash?setTimeout(function(){$("html, body").scrollTop(0).show(),$("html, body").animate({scrollTop:$(window.location.hash).offset().top-50},400)},0):$("html, body").show(),$galleryItems.matchHeight(),imageSizes(),entryDate(),window.onscroll()}),$(window).resize(function(){$galleryItems.matchHeight._update(),window.onscroll()}),$(".loadimg").on("click",function(e){var t=$(this).siblings("figure"),i=$(this).siblings("figcaption");i.css("height","auto");var r=new Image;if(r.onload=function(){var e=$(this).width();t.css("width","0px"),t.css("visibility","visible"),t.animate({width:e},100,function(){t.removeAttr("style"),i.css("visibility","visible"),window.onscroll()})},t.css("visibility","hidden"),"gif"===$(this).data("url").split(".").pop()){$(r).attr("data-gifffer",$(this).data("url")),t.append(r);var a=function(){$(this).width();t.css("width","0px"),t.css("visibility","visible"),t.animate({width:"100%"},100,function(){i.css("visibility","visible"),window.onscroll()})};Gifffer(a)}else r.src=$(this).data("url"),t.append(r);$("footer").css("visibility","hidden"),$(this).hide()}),imageSizes=function(){$(".loadimg").each(function(e,t){$(t).text("Load Image"),getFileSize(t,$(this).data("url"))})},sizeUnits=function(e){return 1024>e?Math.round(100*e)/100+" kb":Math.round(e/1024*100)/100+" mb"},Date.daysBetween=function(e,t){var i=864e5,r=e.getTime(),a=t.getTime(),o=a-r;return Math.round(o/i)},Date.getMonthName=function(e){var t=e.getMonth();switch(t+1){default:return"December";case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November"}},Date.getDayName=function(e){var i,t=e.getDate();switch(t%10){default:i="th";break;case 1:i="st";break;case 2:i="nd";break;case 3:i="rd"}return t+i};var entryDate=function(){var e=$("#entry");if(0!=e.size()){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var i=e.attr("date").split("/"),r=new Date(i[0],i[1]-1,i[2]),a=Date.daysBetween(r,t);$("#entryTimeStamp").text("Posted "+a+" days ago on "+Date.getMonthName(r)+" "+Date.getDayName(r)+", "+(r.getYear()+1900))}};