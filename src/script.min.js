function getFileSize(e,i){var t="",l=new XMLHttpRequest;l.open("HEAD",i,!0),l.onreadystatechange=function(){this.readyState==this.DONE&&200===this.status&&(t=this.getResponseHeader("content-length")/1024,$(e).text($(e).text()+" ("+sizeUnits(t)+")"))},l.send()}!function(e){e.fn.visible=function(i){var t=e(this),l=e(window),r=l.scrollTop(),a=r+l.height(),n=t.offset().top,o=n+t.height(),d=i===!0?o:n,s=i===!0?n:o;return a>=s&&d>=r}}(jQuery);var $footer=$("footer"),$footerBanner=$("#footer_banner"),$galleryItems=$(".galleryItem"),allMods=$(".visModule");allMods.each(function(e,i){var i=$(i);i.visible(!0)&&i.addClass("already-visible")});var footerRelative=function(){$footer.removeAttr("style"),$footer.css({visibility:"visible",height:"auto"}),$footerBanner.removeAttr("style"),$footerBanner.css({overflow:"visible",position:"relative",bottom:"auto",height:"auto"}),$footerBanner.children().css({position:"relative",top:"auto"})},footerFixed=function(e){0>e&&(e=0);var i=document.body.offsetHeight-window.innerHeight;if(220>i-e){$footer.removeAttr("style"),$footerBanner.removeAttr("style"),$footer.css("visibility","visible");var t=215-(i-e);0>t&&(t=0),$footerBanner.css("height",t+"px"),$footerBanner.children().css("top",e-i+"px")}else $("footer").css("visibility","hidden")};window.onscroll=function(e){$(window).width()<=600?footerRelative():footerFixed(window.scrollY),allMods.each(function(e,i){var i=$(i);setTimeout(function(){i.visible(!0)&&i.addClass("come-in")},75*e)})},$galleryItems.on({mouseenter:function(){$(this).addClass("galItemHover")},mouseleave:function(){$(this).removeClass("galItemHover")}}),$(".skillBar").on({mouseenter:function(){$(".galleryItem[langtag="+$(this).attr("langtag")+"]").addClass("galItemHover")},mouseleave:function(){$(".galleryItem[langtag="+$(this).attr("langtag")+"]").removeClass("galItemHover")}}),$(document).ready(function(){$("html, body").hide(),$(".flexnav").flexNav(),window.location.hash?setTimeout(function(){$("html, body").scrollTop(0).show(),$("html, body").animate({scrollTop:$(window.location.hash).offset().top-50},400)},0):$("html, body").show(),$galleryItems.matchHeight(),imageSizes(),entryDate(),window.onscroll()}),$(window).resize(function(){$galleryItems.matchHeight._update(),setTimeout(function(){window.onscroll()},100)}),$(window),$(".loadimg").on("click",function(e){var i=$(this).siblings("figure"),t=$(this).siblings("figcaption");t.css("height","auto");var l=new Image;if(l.onload=function(){var e=$(this).width();i.css("width","0px"),i.css("visibility","visible"),i.animate({width:e},100,function(){i.removeAttr("style"),t.css("visibility","visible"),window.onscroll()})},i.css("visibility","hidden"),"gif"===$(this).data("url").split(".").pop()){$(l).attr("data-gifffer",$(this).data("url")),i.append(l);var r=function(){$(this).width();i.css("width","0px"),i.css("visibility","visible"),i.animate({width:"100%"},100,function(){t.css("visibility","visible"),window.onscroll()})};Gifffer(r)}else l.src=$(this).data("url"),i.append(l);$("footer").css("visibility","hidden"),$(this).hide()}),imageSizes=function(){$(".loadimg").each(function(e,i){$(i).text("Load Image"),getFileSize(i,$(this).data("url"))})},sizeUnits=function(e){return 1024>e?Math.round(100*e)/100+" kb":Math.round(e/1024*100)/100+" mb"},Date.daysBetween=function(e,i){var t=864e5,l=e.getTime(),r=i.getTime(),a=r-l;return Math.round(a/t)},Date.getMonthName=function(e){var i=e.getMonth();switch(i+1){default:return"December";case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November"}},Date.getDayName=function(e){var t,i=e.getDate();switch(i%10){default:t="th";break;case 1:t="st";break;case 2:t="nd";break;case 3:t="rd"}return i+t};var entryDate=function(){var e=$("#entry");if(0!=e.size()){var i=new Date;i.setHours(0),i.setMinutes(0),i.setSeconds(0);var t=e.attr("date").split("/"),l=new Date(t[0],t[1]-1,t[2]),r=Date.daysBetween(l,i);$("#entryTimeStamp").text("Posted "+(0==r?" today ":r+(1==r?" day ago":" days ago"))+" on "+Date.getMonthName(l)+" "+Date.getDayName(l)+", "+(l.getYear()+1900))}};$(".flexnav").on("click",function(e){$(this).removeClass("flexnav-show")});